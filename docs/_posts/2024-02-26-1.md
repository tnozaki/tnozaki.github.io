---
date: 2024-02-26 00:00:01 +0900
layout: post
tags:
  - Cygwin
  - mintty
title: mintty (a.k.a Cygwin Terminal) 3.6.5 以降は日本語入力がまともに動作しない
---

## まだ Cygwin で消耗しているの？

うるせーバーカ、いまさら WSL2 にして UNIX のゲロカスな日本語入力環境とか人権侵害ぞ？

知らん間に ATOK for Linux ってクラウド化でディスコンなのな。
元 Sun Microsystem にして JUSTSYSTEM America の CEO そして
[OpenI18N](http://openi18n.web.fc2.com/orig-index.html)
のチェアであられた故樋浦秀樹氏が徹夜で作った(htt) IIIMF のおそらく唯一の実装例だったのだけど。
まぁ JUSTSYSTEM 自体が創業者の浮川夫妻のギブアップで一度潰れたようなもんだしな。

一方 Wnn8 for Linux が未だに販売され 2020 年までアップデートされている事実に衝撃を受けている。
これ最初のリリース 20 年前だよな、OMROM すげえな体温計しか買ったこと無かったがこの努力には脱帽である。
結局 UNIX 事業なんてもはや太い本業があってこそで伝統芸能とかそういう部類なのである。
もう人間国宝とかそういう枠でおじいちゃん達確保しておかねえとヤバいと思う。

## 本題の話をしろ

自分はもう長い事 Cygwin 上の vim-minimal でありとあらゆる文章を書いているので、表題の件については非常に困っているのである。

現象としては日本語入力中に IME の変換候補のウィンドウが強制的に閉じられてしまうので、ひらがな一文字で確定してしまうので漢字その他が入力できないのだ。

しゃーないので git bisect し問題の commit を
[特定](https://github.com/mintty/mintty/commit/3b842d74875cc11d8dfeed7b9dfe2cd58a8fc34b)
したのだが差分を読むと

	判らない俺は雰囲気でバグ修正をしてる

ってやつで、コメントに堂々と「理由はわからんがこのコード追加したらバグが直った」と書かれていて頭を抱えている。

どうやら
[この変更](https://github.com/mintty/mintty/commit/113286b792be08d066bd444af95f8003969d30b4)
との関連があるようだがもう Windows プログラミングとか興味ねんだわ。

## 解決方法は？

この手のお化け相手のデバッグはしたくないので素直に 3.6.4 に巻き戻した、すまんな。
